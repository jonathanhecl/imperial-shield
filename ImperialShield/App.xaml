<Application x:Class="ImperialShield.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:tb="http://www.hardcodet.net/taskbar"
             ShutdownMode="OnExplicitShutdown"
             Startup="Application_Startup">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Themes/DarkTheme.xaml"/>
            </ResourceDictionary.MergedDictionaries>

            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
            
            <!-- Taskbar Icon - IconSource se configura en code-behind -->
            <tb:TaskbarIcon x:Key="NotifyIcon"
                            ToolTipText="Imperial Shield - Sistema de Seguridad">
                <tb:TaskbarIcon.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="ðŸ›¡ï¸ Imperial Shield" FontWeight="Bold" IsEnabled="False"/>
                        <Separator/>
                        <MenuItem Header="ðŸ“Š Abrir Dashboard" Click="ShowDashboard_Click"/>
                        <Separator/>
                        <MenuItem Header="ðŸ” Visor de Procesos" Click="ShowProcessViewer_Click"/>
                        <MenuItem Header="ðŸŒ Monitor de Conexiones" Click="ShowNetworkViewer_Click"/>
                        <MenuItem Header="ðŸš€ Gestor de Inicio" Click="ShowStartupManager_Click"/>
                        <MenuItem Header="ðŸ“… Monitor de Tareas" Click="ShowScheduledTasks_Click"/>
                        <MenuItem Header="ðŸ‘ï¸ Centro de Privacidad" Click="ShowPrivacy_Click"/>
                        <MenuItem Header="ðŸ”’ Centro de Cuarentena" Click="ShowQuarantine_Click"/>
                        <Separator/>
                        <MenuItem Header="âš™ï¸ ConfiguraciÃ³n" Click="Settings_Click"/>
                        <MenuItem Header="âŒ Salir" Click="Exit_Click"/>
                    </ContextMenu>
                </tb:TaskbarIcon.ContextMenu>
            </tb:TaskbarIcon>
            
        </ResourceDictionary>
    </Application.Resources>
</Application>
